<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Routine Manager MVP</title>
  


  <style>
  :root {
    --verde: #064420;
    --blu: #0a4d68;
    --chiaro: #f0f8f8;
    --bianco: #ffffff;
    --ombra: rgba(0, 0, 0, 0.15);
    --raggio: 14px;
  }

  html, body {
    height: 100%;
    margin: 0;
  }

  body {
    font-family: "Segoe UI", Arial, sans-serif;
    background: linear-gradient(135deg, var(--verde) 20%, var(--blu) 80%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #222;
    overflow: hidden; /* evita che la pagina intera scorra */
  }

  .app-wrapper {
    width: 95%;
    max-width: 1250px;
    height: 90vh;
    background: var(--bianco);
    border-radius: var(--raggio);
    display: grid;
    grid-template-columns: 220px 1fr 400px;
    box-shadow: 0 10px 30px var(--ombra);
    overflow: hidden;
    animation: fadeIn 0.8s ease;
  }

  .sidebar {
    background: linear-gradient(to bottom, var(--verde), var(--blu));
    color: var(--bianco);
    padding: 1.5rem 1rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .sidebar h2 {
    font-size: 1.3rem;
    margin-bottom: 2rem;
    text-align: center;
  }

  .nav {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .nav button {
    background: transparent;
    color: var(--bianco);
    border: none;
    padding: 0.8rem;
    text-align: left;
    border-radius: var(--raggio);
    cursor: pointer;
    transition: all 0.3s;
    font-size: 1rem;
  }

  .nav button:hover,
  .nav button.active {
    background: rgba(255, 255, 255, 0.2);
    transform: translateX(4px);
  }

  main {
    background: var(--chiaro);
    padding: 1.5rem;
    overflow-y: auto;
    position: relative;
  }

  .screen {
    display: none;
    animation: fadeIn 0.4s ease;
  }

  .screen.active {
    display: block;
  }

  .card {
    background: var(--bianco);
    border-radius: var(--raggio);
    padding: 1rem 1.2rem;
    box-shadow: 0 2px 8px var(--ombra);
    transition: transform 0.2s ease;
    margin-bottom: 1rem;
  }

  .card:hover {
    transform: scale(1.02);
  }

  .card h3 {
    margin-top: 0;
    color: var(--blu);
  }

  /* ğŸ”§ CHAT LAYOUT FIX */
  .chat {
    display: flex;
    flex-direction: column;
    height: 100%;
    border-left: 1px solid #ddd;
    background: #f9f9f9;
  }

  .chat-header {
    background: linear-gradient(to right, var(--verde), var(--blu));
    color: var(--bianco);
    padding: 1rem;
    font-weight: 600;
    text-align: center;
    flex-shrink: 0;
  }

  .chat-messages {
    flex: 1;
    padding: 1rem;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
    scroll-behavior: smooth;
    background: #fafafa;
  }

  .message {
    max-width: 80%;
    padding: 0.7rem 1rem;
    border-radius: var(--raggio);
    box-shadow: 0 2px 6px var(--ombra);
    animation: slideUp 0.3s ease;
    line-height: 1.4;
    word-wrap: break-word;
  }

  .message.AI {
    align-self: flex-start;
    background: var(--blu);
    color: var(--bianco);
    border-bottom-left-radius: 0;
  }

  .message.Utente {
    align-self: flex-end;
    background: var(--verde);
    color: var(--bianco);
    border-bottom-right-radius: 0;
  }

  .chat-footer {
    flex-shrink: 0;
    padding: 1rem;
    border-top: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
    background: var(--bianco);
  }

  .suggestions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .suggestions button {
    background: #e8f2f1;
    border: none;
    border-radius: var(--raggio);
    padding: 0.4rem 0.8rem;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.3s ease;
    color: var(--blu);
  }

  .suggestions button:hover {
    background: var(--blu);
    color: var(--bianco);
  }

  input {
    flex: 1;
    padding: 0.7rem 1rem;
    border: 1px solid #ccc;
    border-radius: var(--raggio);
    outline: none;
  }

  .input-row {
    display: flex;
    gap: 0.6rem;
    align-items: center;
  }

  button.send {
    background: linear-gradient(135deg, var(--verde), var(--blu));
    color: var(--bianco);
    border: none;
    border-radius: var(--raggio);
    padding: 0.8rem 1.2rem;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s, transform 0.2s;
  }

  button.send:hover {
    background: linear-gradient(135deg, var(--blu), var(--verde));
    transform: scale(1.03);
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  main::-webkit-scrollbar,
  .chat-messages::-webkit-scrollbar {
    width: 8px;
  }

  main::-webkit-scrollbar-thumb,
  .chat-messages::-webkit-scrollbar-thumb {
    background: var(--blu);
    border-radius: 4px;
  }

  .switch-page {
    text-align: center;
    margin-top: 1rem;
  }

  .switch-page button {
    background: #fff;
    color: var(--blu);
    border: 1px solid #fff;
    border-radius: var(--raggio);
    padding: 0.5rem 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .switch-page button:hover {
    background: var(--blu);
    color: var(--bianco);
  }
</style>

</head>
<body>

  <!-- Pagina UTENTE -->
  <div class="app-wrapper" id="userPage">
    <aside class="sidebar">
      <div>
        <h2>AI Routine</h2>
        <nav class="nav">
          <button class="active" data-screen="dashboard">ğŸ  Dashboard</button>
          <button data-screen="calendar">ğŸ“… Calendar</button>
          <button data-screen="routine">ğŸ§  Routine</button>
          <button data-screen="insights">âœ¨ Insights</button>
          <button data-screen="integrations">ğŸ”— Integrazioni & Gruppi</button>
        </nav>
      </div>
      <div class="switch-page">
        <button onclick="switchPage('developer')">ğŸ‘¨â€ğŸ’» Dev Mode</button>
      </div>
    </aside>

    <main id="main-content">
      <section id="dashboard" class="screen active">
        <h1>Benvenuto, Alessandro ğŸ‘‹</h1>
        <div class="card"><h3>ğŸ“… Agenda</h3><p>10:00 - Riunione Progetto</p><p>17:30 - Treno Milano</p></div>
      </section>
      <section id="calendar" class="screen">
        <h1>ğŸ“… Calendario</h1>
        <div class="card"><p>Riunione alle 10 e treno alle 17:30</p></div>
      </section>
      <section id="routine" class="screen">
        <h1>ğŸ§  Routine</h1>
        <div class="card"><p>Meditazione e allenamento completati.</p></div>
      </section>
      <section id="insights" class="screen">
        <h1>âœ¨ Consigli AI</h1>
        <div class="card"><p>Prenditi 15 minuti di pausa dopo la riunione â˜•</p></div>
      </section>
      <section id="integrations" class="screen">
        <h1>ğŸ”— Integrazioni & Gruppi</h1>
        <div class="card"><h3>Collega App</h3><ul><li>Google Calendar</li><li>GitHub</li><li>WhatsApp</li></ul></div>
      </section>
    </main>

    <section class="chat">
      <div class="chat-header">Assistente AI</div>
      <div class="chat-messages" id="messages"></div>
      <div class="chat-footer">
        <div class="suggestions" id="suggestions">
          <button data-msg="mostrami il calendario">ğŸ“… calendario</button>
          <button data-msg="migliora la mia routine">ğŸ§  routine</button>
          <button data-msg="dammi un consiglio">âœ¨ consiglio</button>
        </div>
        <div class="input-row">
          <input id="userInput" type="text" placeholder="Scrivi..." />
          <button class="send" id="sendBtn">Invia</button>
        </div>
      </div>
    </section>
  </div>

  <!-- Pagina DEVELOPER -->
  <div class="app-wrapper" id="devPage" style="display:none;">
    <aside class="sidebar">
      <div>
        <h2>AI Dev Hub</h2>
        <nav class="nav">
          <button class="active" data-screen="dev-overview">ğŸ—ï¸ Overview</button>
          <button data-screen="github">ğŸ™ GitHub</button>
          <button data-screen="api">ğŸ”Œ API</button>
        </nav>
      </div>
      <div class="switch-page">
        <button onclick="switchPage('user')">ğŸ  Utente</button>
      </div>
    </aside>

    <main id="main-dev">
      <section id="dev-overview" class="screen active">
        <h1>Developer Dashboard</h1>
        <div class="card"><p>Stato build: âœ… OK</p></div>
      </section>
      <section id="github" class="screen">
        <h1>ğŸ™ GitHub Activity</h1>
        <div class="card"><p>Ultime PR e commit.</p></div>
      </section>
      <section id="api" class="screen">
        <h1>ğŸ”Œ API Monitor</h1>
        <div class="card"><p>API Online</p></div>
      </section>
    </main>
  </div>

  <script>
    // --- GESTIONE PAGINE ---
    function switchPage(mode) {
      document.getElementById('userPage').style.display = (mode === 'user') ? 'grid' : 'none';
      document.getElementById('devPage').style.display = (mode === 'developer') ? 'grid' : 'none';
    }

    // --- SIDEBAR UTENTE ---
    document.querySelectorAll('#userPage .nav button').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#userPage .nav button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const screen = btn.dataset.screen;
        document.querySelectorAll('#userPage main .screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screen).classList.add('active');
      });
    });

    // --- SIDEBAR DEVELOPER ---
    document.querySelectorAll('#devPage .nav button').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#devPage .nav button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const screen = btn.dataset.screen;
        document.querySelectorAll('#devPage main .screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screen).classList.add('active');
      });
    });

    // --- CHAT FUNZIONANTE ---
    const messagesContainer = document.getElementById('messages');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');

    const messages = [
      { sender: 'AI', text: 'Ciao Alessandro! ğŸŒ¿' },
      { sender: 'AI', text: 'Posso mostrarti calendario, routine o consigli.' }
    ];

    function renderMessages() {
      messagesContainer.innerHTML = '';
      messages.forEach(m => {
        const div = document.createElement('div');
        div.classList.add('message', m.sender);
        div.textContent = m.text;
        messagesContainer.appendChild(div);
      });
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    function aiRespond(input) {
      let t = input.toLowerCase();
      let r = "Mi dispiace, non ho capito.";
      if (t.includes('calendario')) r = "Hai una riunione alle 10 e treno alle 17:30.";
      else if (t.includes('routine')) r = "Routine: meditazione e focus time pomeridiano.";
      else if (t.includes('consiglio')) r = "Prenditi 10 minuti per respirare e ricaricarti ğŸŒ¿.";
      messages.push({ sender: 'AI', text: r });
      renderMessages();
    }

    function sendMessage(msgText = null) {
      const text = msgText || userInput.value.trim();
      if (!text) return;
      messages.push({ sender: 'Utente', text });
      userInput.value = '';
      renderMessages();
      setTimeout(() => aiRespond(text), 400);
    }

    sendBtn.addEventListener('click', () => sendMessage());
    userInput.addEventListener('keyup', e => { if (e.key === 'Enter') sendMessage(); });

    document.querySelectorAll('#suggestions button').forEach(btn => {
      btn.addEventListener('click', () => sendMessage(btn.dataset.msg));
    });

    renderMessages();
  </script>
</body>
</html>
